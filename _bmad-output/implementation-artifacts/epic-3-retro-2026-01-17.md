# IMPLEMENTATION RETROSPECTIVE - Epic 3

## Epic 3: Professional Technical Analysis & Deep Insights

**Date:** 2026-01-17
**Facilitator:** Bob (Scrum Master)
**Participants:** Alice (PO), Charlie (Senior Dev), Dana (QA), Elena (Junior Dev), Son (Project Lead)

---

## 1. Summary of Execution

Epic 3 shifted the platform from a simple tracker to a professional-grade analytics tool. We integrated TradingView widgets, implemented professional indicators, and established a registry for calculation methodology transparency.

- **Stories Completed:** 4/4
- **Delivery Metrics:** 100% Completion.
- **Key Achievement:** Successfully mapped internal assets to TradingView's ticker system, enabling real-time charts for VN, US, and Crypto in a unified view.

---

## 2. Team Metrics & Performance

| Metric               | Value                  | Status |
| -------------------- | ---------------------- | ------ |
| Completed Stories    | 4 / 4                  | ✅     |
| Blockers Encountered | 2                      | ⚠️     |
| Technical Debt Items | 2                      | ⚠️     |
| Test Coverage        | Unit (Logic), E2E (UI) | ✅     |

---

## 3. Continuity Analysis (Follow-through from Epic 2)

| Action Item                   | Owner   | Status           | Outcome                                                                  |
| ----------------------------- | ------- | ---------------- | ------------------------------------------------------------------------ |
| Symbol mapping format for TV  | Charlie | ✅ Completed     | Built integrated symbol-mapper utility.                                  |
| Content Security Policy (CSP) | DevOps  | ❌ Not Addressed | Headers missing in `next.config.ts`. Security risk for external widgets. |

---

## 4. Significant Discovery & Strategy Shift

During the retrospective, the Project Lead (Son) identified a critical "Data Fragility" risk:

1. **Mock Data Reliance**: Too much of the core logic still relies on mock values, particularly for totals and price fetching.
2. **Missing Asset Support**: Users frequently encounter assets (VN or Crypto) that are not currently tracked, leading to a dead end in the "All-in-One" vision.

### **ACTION: Roadmap Pivot**

We have inserted **Epic 4: Universal Asset Registry & Data Hardening** before any further feature expansion (Exchange Sync). This new epic will:

- Implement a cross-provider search (vnstock, yfinance, coingecko, ccxt).
- Create a `pending_assets` queue for user requests.
- Evict all remaining mock data from `PortfoliosService` and `AssetService`.

---

## 5. Commitments & Next Steps

1. **Owner: Charlie** - Implement the Cross-Provider Search logic in `services/api`.
2. **Owner: Dana** - Define the "Stale Data" visual cues and state management.
3. **Owner: DevOps** - Apply the missing CSP headers in `next.config.ts` (CRITICAL).
4. **Owner: Bob** - Kick off Story 4.1.

**Outcome:** Epic 3 Review is CLOSED. Roadmap updated.
